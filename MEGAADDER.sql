drop table if exists users cascade;
drop table if exists roles cascade;
drop table if exists films cascade;
drop table if exists halls cascade;
drop table if exists seats cascade;
drop table if exists sessions cascade;
drop table if exists tickets cascade;

create table users
(
    user_id         serial primary key unique,
    username        varchar(50) unique,
    password        varchar(70) not null,
    name            varchar(20),
    surname         varchar(20),
    role            varchar(5) default 'USER',
    active          boolean default true
);

create table films
(
    film_id serial primary key unique,
    title varchar(100) not null,
    year int,
    genre varchar(100),
    duration int not null,
    country varchar(100)
);

create table halls
(
    hall_id serial primary key unique,
    name varchar(100)
);

create table sessions
(
    date date,
    time time,
    hall_id integer,
    film_id integer not null,
    CONSTRAINT film_sess FOREIGN KEY(film_id) REFERENCES films(film_id) ON DELETE CASCADE,
    CONSTRAINT hall_sess FOREIGN KEY(hall_id) REFERENCES halls(hall_id) ON DELETE CASCADE,
    PRIMARY KEY(date, time, hall_id)
);

CREATE TABLE seats
(
    seat_id serial unique primary key,
    hall_id integer,
    row integer,
    seat integer,
    CONSTRAINT hall_seats FOREIGN KEY(hall_id) REFERENCES halls(hall_id) ON DELETE CASCADE
);

CREATE TABLE tickets
(
    ticket_id serial primary key unique,
    seat_id integer not null,
    date date,
    time time,
    hall_id integer,
    is_sold bool DEFAULT false,
    CONSTRAINT ticket_seat FOREIGN KEY(seat_id) REFERENCES seats(seat_id) ON DELETE CASCADE,
    CONSTRAINT ticket_sess FOREIGN KEY(date, time, hall_id) REFERENCES sessions(date, time, hall_id) ON DELETE CASCADE
);

INSERT INTO users(username, password, role)
VALUES ('kekekeke', 'kekekeke', 'ADMIN'),
       ('director', 'director', 'USER');

INSERT INTO films(title, year, genre, duration, country)
VALUES ('Гарри Поттер', 2003, 'Фантастика', 127, 'Великобритания'),
       ('Матрица', 2021, 'Комедия', 96, 'США'),
       ('Горько', 2016, 'Ужасы', 113, 'Россия'),
       ('Человек-паук', 1999, 'Приключение', 102, 'США'),
       ('Мстители', 2014, 'Комедия', 96, 'США'),
       ('Аватар', 2008, 'Кринж', 854, 'Бразилия'),
       ('Мстители 2: Эра Альтрона', 2016, 'Кинокомиксы', 132, 'ЮАР'),
       ('Лицо со шрамом', 1996, 'Триллер', 124, 'Норвегия'),
       ('Властелин колец', 2002, 'Не знаю', 3211, 'Исландия'),
       ('Фильмец', 2000, 'Жанрец', 100, 'Страна'),
       ('Классика', 1990, 'Классический', 111, 'Классиния'),
       ('Крестный отец', 2007, 'Триллер', 119, 'США'),
       ('Титаник', 1996, 'Ужасы', 203, 'США');

INSERT INTO halls(hall_id, name)
VALUES (1, 'Темный мир'),
       (2, 'Пират'),
       (3, 'Правая палочка Twix'),
       (4, 'Космос');

INSERT INTO sessions(date, time, hall_id, film_id)
VALUES ('2022-12-29', '12:40', 1, 3),
       ('2023-01-13', '11:10', 3, 5),
       ('2023-02-02', '18:01', 2, 1),
       ('2023-02-02', '12:01', 1, 1),
       ('2022-12-31', '22:22', 4, 1);

INSERT INTO seats(hall_id, row, seat)
VALUES (1, 1, 1),
       (1, 1, 2),
       (1, 1, 3),
       (1, 1, 4),
       (1, 1, 5),
       (1, 1, 6),
       (1, 1, 7),
       (1, 1, 8),
       (1, 1, 9),
       (1, 1, 10),
       (1, 2, 1),
       (1, 2, 2),
       (1, 2, 3),
       (1, 2, 4),
       (1, 2, 5),
       (1, 2, 6),
       (1, 2, 7),
       (1, 2, 8),
       (1, 2, 9),
       (1, 2, 10),
       (1, 3, 1),
       (1, 3, 2),
       (1, 3, 3),
       (1, 3, 4),
       (1, 3, 5),
       (1, 3, 6),
       (1, 3, 7),
       (1, 3, 8),
       (1, 3, 9),
       (1, 3, 10),
       (1, 4, 1),
       (1, 4, 2),
       (1, 4, 3),
       (1, 4, 4),
       (1, 4, 5),
       (1, 4, 6),
       (1, 4, 7),
       (1, 4, 8),
       (1, 4, 9),
       (1, 4, 10),
       (1, 5, 1),
       (1, 5, 2),
       (1, 5, 3),
       (1, 5, 4),
       (1, 5, 5),
       (1, 5, 6),
       (1, 5, 7),
       (1, 5, 8),
       (1, 5, 9),
       (1, 5, 10),
       (2, 1, 1),
       (2, 1, 2),
       (2, 1, 3),
       (2, 1, 4),
       (2, 1, 5),
       (2, 1, 6),
       (2, 1, 7),
       (2, 1, 8),
       (2, 1, 9),
       (2, 1, 10),
       (2, 2, 1),
       (2, 2, 2),
       (2, 2, 3),
       (2, 2, 4),
       (2, 2, 5),
       (2, 2, 6),
       (2, 2, 7),
       (2, 2, 8),
       (2, 2, 9),
       (2, 2, 10),
       (2, 3, 1),
       (2, 3, 2),
       (2, 3, 3),
       (2, 3, 4),
       (2, 3, 5),
       (2, 3, 6),
       (2, 3, 7),
       (2, 3, 8),
       (2, 3, 9),
       (2, 3, 10),
       (2, 4, 1),
       (2, 4, 2),
       (2, 4, 3),
       (2, 4, 4),
       (2, 4, 5),
       (2, 4, 6),
       (2, 4, 7),
       (2, 4, 8),
       (2, 4, 9),
       (2, 4, 10),
       (2, 5, 1),
       (2, 5, 2),
       (2, 5, 3),
       (2, 5, 4),
       (2, 5, 5),
       (2, 5, 6),
       (2, 5, 7),
       (2, 5, 8),
       (2, 5, 9),
       (2, 5, 10),
       (3, 1, 1),
       (3, 1, 2),
       (3, 1, 3),
       (3, 1, 4),
       (3, 1, 5),
       (3, 1, 6),
       (3, 1, 7),
       (3, 1, 8),
       (3, 1, 9),
       (3, 1, 10),
       (3, 2, 1),
       (3, 2, 2),
       (3, 2, 3),
       (3, 2, 4),
       (3, 2, 5),
       (3, 2, 6),
       (3, 2, 7),
       (3, 2, 8),
       (3, 2, 9),
       (3, 2, 10),
       (3, 3, 1),
       (3, 3, 2),
       (3, 3, 3),
       (3, 3, 4),
       (3, 3, 5),
       (3, 3, 6),
       (3, 3, 7),
       (3, 3, 8),
       (3, 3, 9),
       (3, 3, 10),
       (3, 4, 1),
       (3, 4, 2),
       (3, 4, 3),
       (3, 4, 4),
       (3, 4, 5),
       (3, 4, 6),
       (3, 4, 7),
       (3, 4, 8),
       (3, 4, 9),
       (3, 4, 10),
       (3, 5, 1),
       (3, 5, 2),
       (3, 5, 3),
       (3, 5, 4),
       (3, 5, 5),
       (3, 5, 6),
       (3, 5, 7),
       (3, 5, 8),
       (3, 5, 9),
       (3, 5, 10),
       (4, 1, 1),
       (4, 1, 2),
       (4, 1, 3),
       (4, 1, 4),
       (4, 1, 5),
       (4, 1, 6),
       (4, 1, 7),
       (4, 1, 8),
       (4, 1, 9),
       (4, 1, 10),
       (4, 2, 1),
       (4, 2, 2),
       (4, 2, 3),
       (4, 2, 4),
       (4, 2, 5),
       (4, 2, 6),
       (4, 2, 7),
       (4, 2, 8),
       (4, 2, 9),
       (4, 2, 10),
       (4, 3, 1),
       (4, 3, 2),
       (4, 3, 3),
       (4, 3, 4),
       (4, 3, 5),
       (4, 3, 6),
       (4, 3, 7),
       (4, 3, 8),
       (4, 3, 9),
       (4, 3, 10),
       (4, 4, 1),
       (4, 4, 2),
       (4, 4, 3),
       (4, 4, 4),
       (4, 4, 5),
       (4, 4, 6),
       (4, 4, 7),
       (4, 4, 8),
       (4, 4, 9),
       (4, 4, 10),
       (4, 5, 1),
       (4, 5, 2),
       (4, 5, 3),
       (4, 5, 4),
       (4, 5, 5),
       (4, 5, 6),
       (4, 5, 7),
       (4, 5, 8),
       (4, 5, 9),
       (4, 5, 10);

INSERT INTO tickets(seat_id, date, time, hall_id, is_sold)
VALUES (1 ,'2022-12-29', '12:40', 1, true),
       (2 ,'2022-12-29', '12:40', 1, false),
       (3 ,'2022-12-29', '12:40', 1, false),
       (4 ,'2022-12-29', '12:40', 1, true),
       (5 ,'2022-12-29', '12:40', 1, false),
       (6 ,'2022-12-29', '12:40', 1, false),
       (7 ,'2022-12-29', '12:40', 1, false),
       (8 ,'2022-12-29', '12:40', 1, false),
       (9 ,'2022-12-29', '12:40', 1, false),
       (10 ,'2022-12-29', '12:40', 1, false),
       (11 ,'2022-12-29', '12:40', 1, false),
       (12 ,'2022-12-29', '12:40', 1, false),
       (13 ,'2022-12-29', '12:40', 1, false),
       (14 ,'2022-12-29', '12:40', 1, false),
       (15 ,'2022-12-29', '12:40', 1, false),
       (16 ,'2022-12-29', '12:40', 1, false),
       (17 ,'2022-12-29', '12:40', 1, false),
       (18 ,'2022-12-29', '12:40', 1, false),
       (19 ,'2022-12-29', '12:40', 1, false),
       (20 ,'2022-12-29', '12:40', 1, false),
       (21 ,'2022-12-29', '12:40', 1, false),
       (22 ,'2022-12-29', '12:40', 1, false),
       (23 ,'2022-12-29', '12:40', 1, false),
       (24 ,'2022-12-29', '12:40', 1, false),
       (25 ,'2022-12-29', '12:40', 1, true),
       (26 ,'2022-12-29', '12:40', 1, false),
       (27 ,'2022-12-29', '12:40', 1, false),
       (28 ,'2022-12-29', '12:40', 1, false),
       (29 ,'2022-12-29', '12:40', 1, false),
       (30 ,'2022-12-29', '12:40', 1, false),
       (31 ,'2022-12-29', '12:40', 1, false),
       (32 ,'2022-12-29', '12:40', 1, false),
       (33 ,'2022-12-29', '12:40', 1, false),
       (34 ,'2022-12-29', '12:40', 1, false),
       (35 ,'2022-12-29', '12:40', 1, false),
       (36 ,'2022-12-29', '12:40', 1, false),
       (37 ,'2022-12-29', '12:40', 1, false),
       (38 ,'2022-12-29', '12:40', 1, false),
       (39 ,'2022-12-29', '12:40', 1, false),
       (40 ,'2022-12-29', '12:40', 1, false),
       (41 ,'2022-12-29', '12:40', 1, false),
       (42 ,'2022-12-29', '12:40', 1, false),
       (43 ,'2022-12-29', '12:40', 1, false),
       (44 ,'2022-12-29', '12:40', 1, false),
       (45 ,'2022-12-29', '12:40', 1, false),
       (46 ,'2022-12-29', '12:40', 1, false),
       (47 ,'2022-12-29', '12:40', 1, true),
       (48 ,'2022-12-29', '12:40', 1, true),
       (49 ,'2022-12-29', '12:40', 1, true),
       (50 ,'2022-12-29', '12:40', 1, false),
       (101 ,'2023-01-13', '11:10', 3, false),
       (102 ,'2023-01-13', '11:10', 3, false),
       (103 ,'2023-01-13', '11:10', 3, false),
       (104 ,'2023-01-13', '11:10', 3, false),
       (105 ,'2023-01-13', '11:10', 3, false),
       (106 ,'2023-01-13', '11:10', 3, false),
       (107 ,'2023-01-13', '11:10', 3, true),
       (108 ,'2023-01-13', '11:10', 3, false),
       (109 ,'2023-01-13', '11:10', 3, false),
       (110 ,'2023-01-13', '11:10', 3, false),
       (111 ,'2023-01-13', '11:10', 3, false),
       (112 ,'2023-01-13', '11:10', 3, false),
       (113 ,'2023-01-13', '11:10', 3, false),
       (114 ,'2023-01-13', '11:10', 3, false),
       (115 ,'2023-01-13', '11:10', 3, false),
       (116 ,'2023-01-13', '11:10', 3, false),
       (117 ,'2023-01-13', '11:10', 3, false),
       (118 ,'2023-01-13', '11:10', 3, false),
       (119 ,'2023-01-13', '11:10', 3, false),
       (120 ,'2023-01-13', '11:10', 3, false),
       (121 ,'2023-01-13', '11:10', 3, false),
       (122 ,'2023-01-13', '11:10', 3, false),
       (123 ,'2023-01-13', '11:10', 3, false),
       (124 ,'2023-01-13', '11:10', 3, false),
       (125 ,'2023-01-13', '11:10', 3, false),
       (126 ,'2023-01-13', '11:10', 3, false),
       (127 ,'2023-01-13', '11:10', 3, false),
       (128 ,'2023-01-13', '11:10', 3, false),
       (129 ,'2023-01-13', '11:10', 3, false),
       (130 ,'2023-01-13', '11:10', 3, false),
       (131 ,'2023-01-13', '11:10', 3, false),
       (132 ,'2023-01-13', '11:10', 3, false),
       (133 ,'2023-01-13', '11:10', 3, false),
       (134 ,'2023-01-13', '11:10', 3, false),
       (135 ,'2023-01-13', '11:10', 3, false),
       (136 ,'2023-01-13', '11:10', 3, false),
       (137 ,'2023-01-13', '11:10', 3, true),
       (138 ,'2023-01-13', '11:10', 3, false),
       (139 ,'2023-01-13', '11:10', 3, false),
       (140 ,'2023-01-13', '11:10', 3, false),
       (141 ,'2023-01-13', '11:10', 3, false),
       (142 ,'2023-01-13', '11:10', 3, false),
       (143 ,'2023-01-13', '11:10', 3, false),
       (144 ,'2023-01-13', '11:10', 3, false),
       (145 ,'2023-01-13', '11:10', 3, false),
       (146 ,'2023-01-13', '11:10', 3, false),
       (147 ,'2023-01-13', '11:10', 3, false),
       (148 ,'2023-01-13', '11:10', 3, false),
       (149 ,'2023-01-13', '11:10', 3, false),
       (150 ,'2023-01-13', '11:10', 3, false),
       (51 ,'2023-02-02', '18:01', 2, false),
       (52 ,'2023-02-02', '18:01', 2, false),
       (53 ,'2023-02-02', '18:01', 2, true),
       (54 ,'2023-02-02', '18:01', 2, false),
       (55 ,'2023-02-02', '18:01', 2, false),
       (56 ,'2023-02-02', '18:01', 2, false),
       (57 ,'2023-02-02', '18:01', 2, false),
       (58 ,'2023-02-02', '18:01', 2, false),
       (59 ,'2023-02-02', '18:01', 2, false),
       (60 ,'2023-02-02', '18:01', 2, false),
       (61 ,'2023-02-02', '18:01', 2, false),
       (62 ,'2023-02-02', '18:01', 2, false),
       (63 ,'2023-02-02', '18:01', 2, false),
       (64 ,'2023-02-02', '18:01', 2, false),
       (65 ,'2023-02-02', '18:01', 2, false),
       (66 ,'2023-02-02', '18:01', 2, false),
       (67 ,'2023-02-02', '18:01', 2, false),
       (68 ,'2023-02-02', '18:01', 2, true),
       (69 ,'2023-02-02', '18:01', 2, false),
       (70 ,'2023-02-02', '18:01', 2, false),
       (71 ,'2023-02-02', '18:01', 2, false),
       (72 ,'2023-02-02', '18:01', 2, false),
       (73 ,'2023-02-02', '18:01', 2, false),
       (74 ,'2023-02-02', '18:01', 2, false),
       (75 ,'2023-02-02', '18:01', 2, false),
       (76 ,'2023-02-02', '18:01', 2, false),
       (77 ,'2023-02-02', '18:01', 2, false),
       (78 ,'2023-02-02', '18:01', 2, false),
       (79 ,'2023-02-02', '18:01', 2, false),
       (80 ,'2023-02-02', '18:01', 2, false),
       (81 ,'2023-02-02', '18:01', 2, false),
       (82 ,'2023-02-02', '18:01', 2, false),
       (83 ,'2023-02-02', '18:01', 2, false),
       (84 ,'2023-02-02', '18:01', 2, false),
       (85 ,'2023-02-02', '18:01', 2, false),
       (86 ,'2023-02-02', '18:01', 2, false),
       (87 ,'2023-02-02', '18:01', 2, false),
       (88 ,'2023-02-02', '18:01', 2, false),
       (89 ,'2023-02-02', '18:01', 2, false),
       (90 ,'2023-02-02', '18:01', 2, false),
       (91 ,'2023-02-02', '18:01', 2, false),
       (92 ,'2023-02-02', '18:01', 2, false),
       (93 ,'2023-02-02', '18:01', 2, false),
       (94 ,'2023-02-02', '18:01', 2, false),
       (95 ,'2023-02-02', '18:01', 2, false),
       (96 ,'2023-02-02', '18:01', 2, false),
       (97 ,'2023-02-02', '18:01', 2, false),
       (98 ,'2023-02-02', '18:01', 2, false),
       (99 ,'2023-02-02', '18:01', 2, false),
       (100 ,'2023-02-02', '18:01', 2, false),
       (1 ,'2023-02-02', '12:01:00', 1, false),
       (2 ,'2023-02-02', '12:01:00', 1, false),
       (3 ,'2023-02-02', '12:01:00', 1, false),
       (4 ,'2023-02-02', '12:01:00', 1, false),
       (5 ,'2023-02-02', '12:01:00', 1, false),
       (6 ,'2023-02-02', '12:01:00', 1, false),
       (7 ,'2023-02-02', '12:01:00', 1, false),
       (8 ,'2023-02-02', '12:01:00', 1, false),
       (9 ,'2023-02-02', '12:01:00', 1, false),
       (10 ,'2023-02-02', '12:01:00', 1, false),
       (11 ,'2023-02-02', '12:01:00', 1, false),
       (12 ,'2023-02-02', '12:01:00', 1, false),
       (13 ,'2023-02-02', '12:01:00', 1, false),
       (14 ,'2023-02-02', '12:01:00', 1, false),
       (15 ,'2023-02-02', '12:01:00', 1, false),
       (16 ,'2023-02-02', '12:01:00', 1, false),
       (17 ,'2023-02-02', '12:01:00', 1, false),
       (18 ,'2023-02-02', '12:01:00', 1, false),
       (19 ,'2023-02-02', '12:01:00', 1, false),
       (20 ,'2023-02-02', '12:01:00', 1, false),
       (21 ,'2023-02-02', '12:01:00', 1, false),
       (22 ,'2023-02-02', '12:01:00', 1, false),
       (23 ,'2023-02-02', '12:01:00', 1, false),
       (24 ,'2023-02-02', '12:01:00', 1, false),
       (25 ,'2023-02-02', '12:01:00', 1, false),
       (26 ,'2023-02-02', '12:01:00', 1, false),
       (27 ,'2023-02-02', '12:01:00', 1, false),
       (28 ,'2023-02-02', '12:01:00', 1, false),
       (29 ,'2023-02-02', '12:01:00', 1, false),
       (30 ,'2023-02-02', '12:01:00', 1, false),
       (31 ,'2023-02-02', '12:01:00', 1, false),
       (32 ,'2023-02-02', '12:01:00', 1, false),
       (33 ,'2023-02-02', '12:01:00', 1, false),
       (34 ,'2023-02-02', '12:01:00', 1, false),
       (35 ,'2023-02-02', '12:01:00', 1, false),
       (36 ,'2023-02-02', '12:01:00', 1, false),
       (37 ,'2023-02-02', '12:01:00', 1, false),
       (38 ,'2023-02-02', '12:01:00', 1, false),
       (39 ,'2023-02-02', '12:01:00', 1, false),
       (40 ,'2023-02-02', '12:01:00', 1, false),
       (41 ,'2023-02-02', '12:01:00', 1, false),
       (42 ,'2023-02-02', '12:01:00', 1, false),
       (43 ,'2023-02-02', '12:01:00', 1, false),
       (44 ,'2023-02-02', '12:01:00', 1, false),
       (45 ,'2023-02-02', '12:01:00', 1, false),
       (46 ,'2023-02-02', '12:01:00', 1, false),
       (47 ,'2023-02-02', '12:01:00', 1, false),
       (48 ,'2023-02-02', '12:01:00', 1, false),
       (49 ,'2023-02-02', '12:01:00', 1, false),
       (50 ,'2023-02-02', '12:01:00', 1, false),
       (151 ,'2022-12-31', '22:22', 4, false),
       (152 ,'2022-12-31', '22:22', 4, false),
       (153 ,'2022-12-31', '22:22', 4, false),
       (154 ,'2022-12-31', '22:22', 4, false),
       (155 ,'2022-12-31', '22:22', 4, false),
       (156 ,'2022-12-31', '22:22', 4, false),
       (157 ,'2022-12-31', '22:22', 4, false),
       (158 ,'2022-12-31', '22:22', 4, false),
       (159 ,'2022-12-31', '22:22', 4, false),
       (160 ,'2022-12-31', '22:22', 4, false),
       (161 ,'2022-12-31', '22:22', 4, false),
       (162 ,'2022-12-31', '22:22', 4, false),
       (163 ,'2022-12-31', '22:22', 4, false),
       (164 ,'2022-12-31', '22:22', 4, false),
       (165 ,'2022-12-31', '22:22', 4, false),
       (166 ,'2022-12-31', '22:22', 4, false),
       (167 ,'2022-12-31', '22:22', 4, false),
       (168 ,'2022-12-31', '22:22', 4, false),
       (169 ,'2022-12-31', '22:22', 4, false),
       (170 ,'2022-12-31', '22:22', 4, false),
       (171 ,'2022-12-31', '22:22', 4, false),
       (172 ,'2022-12-31', '22:22', 4, false),
       (173 ,'2022-12-31', '22:22', 4, false),
       (174 ,'2022-12-31', '22:22', 4, false),
       (175 ,'2022-12-31', '22:22', 4, false),
       (176 ,'2022-12-31', '22:22', 4, false),
       (177 ,'2022-12-31', '22:22', 4, false),
       (178 ,'2022-12-31', '22:22', 4, false),
       (179 ,'2022-12-31', '22:22', 4, false),
       (180 ,'2022-12-31', '22:22', 4, false),
       (181 ,'2022-12-31', '22:22', 4, false),
       (182 ,'2022-12-31', '22:22', 4, false),
       (183 ,'2022-12-31', '22:22', 4, false),
       (184 ,'2022-12-31', '22:22', 4, false),
       (185 ,'2022-12-31', '22:22', 4, false),
       (186 ,'2022-12-31', '22:22', 4, false),
       (187 ,'2022-12-31', '22:22', 4, false),
       (188 ,'2022-12-31', '22:22', 4, false),
       (189 ,'2022-12-31', '22:22', 4, false),
       (190 ,'2022-12-31', '22:22', 4, false),
       (191 ,'2022-12-31', '22:22', 4, false),
       (192 ,'2022-12-31', '22:22', 4, false),
       (193 ,'2022-12-31', '22:22', 4, false),
       (194 ,'2022-12-31', '22:22', 4, false),
       (195 ,'2022-12-31', '22:22', 4, false),
       (196 ,'2022-12-31', '22:22', 4, false),
       (197 ,'2022-12-31', '22:22', 4, false),
       (198 ,'2022-12-31', '22:22', 4, false),
       (199 ,'2022-12-31', '22:22', 4, false),
       (200 ,'2022-12-31', '22:22', 4, false);



